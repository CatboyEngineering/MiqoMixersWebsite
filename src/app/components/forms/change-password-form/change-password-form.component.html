<form [formGroup]="changePasswordForm" #form="ngForm" (ngSubmit)="submit()" class="my-5 text-left w-fit mx-auto">
  <div class="bg-green-600 text-white text-center p-3 rounded-md max-w-64 mx-auto" *ngIf="changedSuccess">
    <p>Password Change Successful!</p>
  </div>

  <ui-form-error [formName]="FormName.CHANGE_PASSWORD"></ui-form-error>

  <div class="mt-3 text-center mx-auto">
    <div class="my-2">
      <ui-form-field-error [form]="form" [errorFor]="'newPassword'" [errorType]="'required'">This field is required</ui-form-field-error>
      <ui-form-field-error [form]="form" [errorFor]="'newPassword'" [errorType]="'minlength'">
        Passwords must be at least 8 characters
      </ui-form-field-error>
      <ui-form-field-error [form]="form" [errorFor]="'newPassword'" [errorType]="'pattern'">
        Passwords must include an uppercase letter, lowercase letter, and a number
      </ui-form-field-error>
      <div class="inline-block mx-2 my-2">
        <i class="inline-block mx-1 text-2xl align-middle fa-solid fa-key w-8 text-mmRust"></i>
        <input
          type="password"
          placeholder="New Password"
          formControlName="newPassword"
          class="border-b border-gray-800 dark:border-gray-500 inline-block align-middle px-2 py-1 bg-mmDarkSand dark:bg-gray-900 shadow-none outline-none focus:rounded-md focus:outline-mmRust focus:outline-1 placeholder:text-gray-500 text-mmRust" />
      </div>
    </div>
    <div class="my-2">
      <ui-form-field-error [form]="form" [errorFor]="'confirmPassword'" [errorType]="'required'">This field is required</ui-form-field-error>
      <ui-form-field-error [form]="form" [errorFor]="'confirmPassword'" [errorType]="'minlength'">
        Passwords must be at least 8 characters
      </ui-form-field-error>
      <ui-form-field-error [form]="form" [errorFor]="'confirmPassword'" [errorType]="'pattern'">
        Passwords must include an uppercase letter, lowercase letter, and a number
      </ui-form-field-error>
      <div class="inline-block mx-2 my-2">
        <i class="inline-block mx-1 text-2xl align-middle fa-solid fa-key w-8 text-mmRust"></i>
        <input
          type="password"
          placeholder="Confirm Password"
          formControlName="confirmPassword"
          class="border-b border-gray-800 dark:border-gray-500 inline-block align-middle px-2 py-1 bg-mmDarkSand dark:bg-gray-900 shadow-none outline-none focus:rounded-md focus:outline-mmRust focus:outline-1 placeholder:text-gray-500 text-mmRust" />
      </div>
    </div>

    <div class="text-center">
      <button
        [disabled]="isLoading$ | async"
        class="bg-mmBlue font-bold text-gray-100 rounded-md px-3 py-2 my-3 outline-none focus:outline-mmRust focus:outline-1 hover:bg-mmDarkBlue active:bg-mmDarkerBlue disabled:bg-slate-500"
        type="submit">
        Change Password
      </button>
    </div>
  </div>
</form>
